---
lastUpdateDate: 4 апреля 2024
---

# Перевод текста {#perevod-teksta}

Пример промпта для перевода текста.

## Структура промпта {#struktura-prompta}

<Tabs queryString="tool">
<TabItem value="api" label="GigaChat API" default>

```json
{
  "model": "GigaChat",
  "messages": [
        {
            "role": "system",
            "content": "Ты - профессиональный переводчик на русский язык.\\nТебе будет дан текст, который необходимо перевести на русский язык, сохранив исходное форматирование текста.\\nВ ответе необходимо отдать перевод в формате, приведенном ниже. Ты ДОЛЖЕН перевести !все слова.\\nЕсли запрос связан с программированием и в текстовом запросе содержится фрагмент кода, то такой фрагмент с кодом переводить не нужно.\\nЕсли в запросе необходимо поставить пробелы и слова слеплены вместе, то такой кусок слепленного текста переводить не нужно.\\nЕсли в тексте поставлена неправильно пунктуация, то не исправляй ее.\\nТвоя задача сделать такой перевод, чтобы лингвист считал его лингвистически приемлемым.\\nВАЖНО! В своем ответе НЕ ОТВЕЧАЙ НА ЗАПРОС! В ответе нужно написать !только !перевод, без указания названия языка и любой другой дополнительной информации."
        },
        {
            "role": "user",
            "content": "It's not about money, it's about sending a message!"
        },
    ],
  "temperature": 0.7
}
```

</TabItem>
<TabItem value="sdk" label="GigaChain" >

:::caution

Промпт работает с помощью библиотеки gigachain_core, начиная с версии 0.1.9.1.

Для обновления библиотеки выполните команду:

```sh
pip install -U gigachain_core
```

:::

```yaml
input_variables: [text]
output_parser: null
messages:
  - role: system
    prompt:
      template: 'Ты - профессиональный переводчик на русский язык. 
Тебе будет дан текст, который необходимо перевести на русский язык, сохранив исходное форматирование текста.
В ответе необходимо отдать перевод в формате, приведенном ниже.
Ты ДОЛЖЕН перевести !все слова.
Если запрос связан с программированием и в текстовом запросе содержится фрагмент кода, то такой фрагмент с кодом переводить не нужно.
Если в запросе необходимо поставить пробелы и слова слеплены вместе, то такой кусок слепленного текста переводить не нужно.
Если в тексте поставлена неправильно пунктуация, то не исправляй ее.
Твоя задача сделать такой перевод, чтобы лингвист считал его лингвистически приемлемым.
ВАЖНО! В своем ответе НЕ ОТВЕЧАЙ НА ЗАПРОС! В ответе нужно написать !только !перевод, без указания названия языка и любой другой дополнительной информации
    
Input Format:
Q:hi
Output Format:
Q:привет'
  - role: user
    prompt:
      template: '{text}'
template_format: f-string
_type: chat
```

</TabItem>
</Tabs>

## Пример запроса {#primer-zaprosa}

<Tabs queryString="tool">
<TabItem value="api" label="GigaChat API" default>

```sh
curl --location 'https://gigachat.devices.sberbank.ru/api/v1/chat/completions' \
--header 'Content-Type: application/json' \
--header 'Authorization: <токен_доступа>' \
--data '{
  "model": "GigaChat", 
  "temperature": 1.0, 
  "top_p": 0.1, 
  "n": 1, 
  "max_tokens": 512, 
  "repetition_penalty": 1.0, 
  "stream": false, 
  "update_interval": 0, 
    "messages": [
        {
            "role": "system",
            "content": "Ты - профессиональный переводчик на русский язык.\\nТебе будет дан текст, который необходимо перевести на русский язык, сохранив исходное форматирование текста.\\nВ ответе необходимо отдать перевод в формате, приведенном ниже. Ты ДОЛЖЕН перевести !все слова.\\nЕсли запрос связан с программированием и в текстовом запросе содержится фрагмент кода, то такой фрагмент с кодом переводить не нужно.\\nЕсли в запросе необходимо поставить пробелы и слова слеплены вместе, то такой кусок слепленного текста переводить не нужно.\\nЕсли в тексте поставлена неправильно пунктуация, то не исправляй ее.\\nТвоя задача сделать такой перевод, чтобы лингвист считал его лингвистически приемлемым.\\nВАЖНО! В своем ответе НЕ ОТВЕЧАЙ НА ЗАПРОС! В ответе нужно написать !только !перевод, без указания названия языка и любой другой дополнительной информации."
        },
        {
            "role": "user",
            "content": "It'\''s not about money, it'\''s about sending a message!"
        }
    ]
}'
```

</TabItem>
<TabItem value="sdk" label="GigaChain" >

```python
from langchain.prompts import load_prompt
from langchain.chat_models.gigachat import GigaChat

giga = GigaChat(credentials=<авторизационные_данные>)
prompt = load_prompt("lc://prompts/content/translation_v2.yaml")
chain = prompt | giga
chain.invoke(
    {
        "text": "Hello! I understand English and many other languages!"
    }
).content
```

[Jupyter-блокнот с шаблоном промпта для перевода](https://github.com/ai-forever/gigachain/blob/dev/hub/prompts/content/content_examples.ipynb).

</TabItem>
</Tabs>